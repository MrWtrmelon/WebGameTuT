<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title> 
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas> 

<script>
	//JavaScript goes in this section
	//Canvas creation stuff
	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d"); //You'll use this variable to draw things on the canvas

	//Defining a Drawing Loop
		//Variables
		var x = canvas.width/2; //Starting x position
		var y = canvas.height-30; //Starting y position

		var dx = 2; //How quickly the ball moves on the x
		var dy = -2; //How quickly the ball moves on the y

		var ballRadius = 10; //Self-explanatory

		
		var paddleHeight = 10;
		var paddleWidth = 75;
		var paddleX = (canvas.width-paddleWidth) / 2;
		var rightPressed = false;
		var leftPressed = false;
		

		/* Messy draw function
			function draw() {
			 ctx.clearRect(0, 0, canvas.width, canvas.height); //Clears the canvas before performing the function
   			 ctx.beginPath(); //Draws the Ball every 10 milliseconds
   				 ctx.arc(x, y, 10, 0, Math.PI*2);
   				 ctx.fillStyle = "#0095DD";
   				 ctx.fill();
   			 ctx.closePath();
   			 x += dx; //Makes the Ball move in the x direction
    			 y += dy; //Makes the Ball move in the y direction
			}
		*/

		function drawBall() {
 		   ctx.beginPath();
    			ctx.arc(x, y, ballRadius, 0, Math.PI*2);
 			ctx.fillStyle = "#0095DD";
  		   	ctx.fill();
		   ctx.closePath();
		}

		function drawPaddle() {
    			ctx.beginPath();
			    ctx.rect(paddleX, canvas.height-paddleHeight, paddleWidth, paddleHeight);
			    ctx.fillStyle = "#0095DD";
			    ctx.fill();
			ctx.closePath();
		}

		function draw() {
		    ctx.clearRect(0, 0, canvas.width, canvas.height);
		    drawBall(); //Performs the drawBall function
		    drawPaddle();
		    //Checks to see if Ball is about to collide with one of the walls
		    	//Top and Bottom Wall
			if(x + dx > canvas.width-ballRadius || x + dx < ballRadius) {
    				dx = -dx;
				}
			//Left and Right Wall
			if(y + dy > canvas.height-ballRadius || y + dy < ballRadius) {
   				dy = -dy;
				}
		    x += dx;
		    y += dy;

		    //Paddle Movement
			if(rightPressed) {
    				paddleX += 7;
				//Stops paddle from going off screen
    				if (paddleX + paddleWidth > canvas.width){
        				paddleX = canvas.width - paddleWidth;
    				}
			}
			else if(leftPressed) {
    				paddleX -= 7;
				//Stops paddle from going off screen
    				if (paddleX < 0){
        				paddleX = 0;
    				}
			}
		}
		
		//Functions for recieving information about keystrokes
			function keyDownHandler(e) {
		   		 if(e.key == "Right" || e.key == "ArrowRight") {
       				 	rightPressed = true;
    				 }
  			  	 else if(e.key == "Left" || e.key == "ArrowLeft") {
        			 	leftPressed = true;
    				 }
			}

			function keyUpHandler(e) {
    				if(e.key == "Right" || e.key == "ArrowRight") {
        				rightPressed = false;
    				}
    				else if(e.key == "Left" || e.key == "ArrowLeft") {
        				leftPressed = false;
    				}
			}
		
		document.addEventListener("keydown", keyDownHandler, false); //A check for the keydown variable
		document.addEventListener("keyup", keyUpHandler, false); //A check for the keyup variable

		setInterval(draw, 10); //Performs the function "draw" every 10 milliseconds

	/* Practice Code for canvas work
		//Draws a box
		ctx.beginPath();
			ctx.rect(20, 40, 50, 50); //Location from the left of the screen, Location from the top of the screen, SizeWidth, SizeHeight
			ctx.fillStyle = "#FF0000";
			ctx.fill();
		ctx.closePath();

		//Draws a circle
		ctx.beginPath();
			ctx.arc(240, 160, 20, 0, Math.PI*2, false); //X, Y, Arc's radius, start angle, end angle, and direction. The degrees are in radians
			ctx.fillStyle = "green";
			ctx.fill();
		ctx.closePath();

		//Draws a stroke
		ctx.beginPath();
			ctx.rect(160, 10, 100, 40);
			ctx.strokeStyle = "rgba(0, 0, 255, 0.5)";
			ctx.stroke();
		ctx.closePath();
	*/
</script>

</body>
</html>